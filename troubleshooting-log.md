## 메타데이터
- **타임스탬프**: 2025-06-30 14:30:00
- **심각도**: Medium
- **영향 받은 시스템**: 프론트엔드 UX, 사용자 인터페이스, 사용자 여정
- **태그**: UX 개선, 사용성, 닐슨 휴리스틱, 사용자 여정, 페르소나

## 문제 요약
JikSend 웹 서비스의 사용자 경험(UX)을 심층적으로 분석하고 발견된 문제점에 대한 구체적이고 실행 가능한 개선 방안이 필요합니다.

## 원인 분석

### 1. 닐슨의 10가지 사용성 휴리스틱 기반 평가

#### 시스템 상태 가시성 (Visibility of System Status)
- **문제점**: 뉴스 로딩 시 상태 표시가 불충분하며, 키워드 추가 시 성공/실패 피드백이 명확하지 않음
- **원인**: 로딩 상태와 시스템 피드백 메커니즘이 일관되게 구현되지 않음

#### 시스템과 현실 세계의 일치 (Match between System and Real World)
- **문제점**: '토픽'과 '키워드' 개념이 혼용되어 사용자 혼란 초래
- **원인**: 내부 시스템 용어가 사용자 친화적으로 정리되지 않음

#### 사용자 제어 및 자유 (User Control and Freedom)
- **문제점**: 키워드 선택 후 되돌리기 옵션이 명확하지 않고, 뉴스 필터링 취소 방법이 직관적이지 않음
- **원인**: 취소/되돌리기 기능의 일관성 있는 구현 부족

#### 일관성 및 표준 (Consistency and Standards)
- **문제점**: 버튼 스타일과 상호작용 패턴이 페이지마다 다르게 적용됨
- **원인**: 디자인 시스템의 일관된 적용 부족

#### 오류 방지 (Error Prevention)
- **문제점**: 중복 키워드 추가 시 사전 경고 없음, 잘못된 입력에 대한 안내 부족
- **원인**: 사전 검증 로직 미흡

#### 기억보다는 인지 (Recognition Rather Than Recall)
- **문제점**: 이전에 선택한 키워드나 설정을 다시 찾기 어려움
- **원인**: 사용자 선택 히스토리 및 시각적 단서 부족

#### 유연성 및 효율성 (Flexibility and Efficiency of Use)
- **문제점**: 고급 사용자를 위한 단축키나 빠른 설정 변경 옵션 부재
- **원인**: 다양한 숙련도의 사용자를 고려한 인터페이스 설계 부족

#### 미학적이고 미니멀한 디자인 (Aesthetic and Minimalist Design)
- **문제점**: PersonalizationSection과 NewsPreview 컴포넌트에 불필요한 시각적 요소가 많음
- **원인**: 과도한 애니메이션과 장식적 요소 사용

#### 오류 복구 지원 (Help Users Recognize, Diagnose, and Recover from Errors)
- **문제점**: 오류 메시지가 기술적이고 해결 방법을 제시하지 않음
- **원인**: 사용자 중심의 오류 메시지 설계 부족

#### 도움말 및 문서 (Help and Documentation)
- **문제점**: 인앱 도움말이나 툴팁이 부족하여 기능 이해가 어려움
- **원인**: 사용자 가이드 및 컨텍스트 도움말 부재

### 2. 페르소나 기반 UX 검토

#### 페르소나: 바쁜 직장인 김대리 (30대 중반, 마케터)
- **목표**: 빠르게 관심 분야 뉴스 확인, 효율적인 정보 습득
- **니즈**: 직관적 인터페이스, 개인화 설정 저장, 모바일 사용성
- **기술 숙련도**: 중급 (새로운 툴 학습에 거부감 없음)
- **주요 사용 기기**: 데스크톱 70%, 모바일 30%

#### 주요 문제점
1. **첫 방문 시 정보 과부하**: 너무 많은 옵션과 설정이 한꺼번에 제시됨
2. **모바일에서 터치 영역 최적화 부족**: 버튼과 상호작용 요소가 너무 작음
3. **개인화 설정 과정이 복잡함**: 여러 단계를 거쳐야 하는 번거로움

### 3. 사용자 여정 분석

#### 핵심 사용자 여정: 웹사이트 방문 → 키워드 설정 → 맞춤형 뉴스 확인 → 뉴스 상세 보기

#### 주요 이탈 지점
1. **키워드 설정 단계**: 카테고리와 키워드 선택 과정이 복잡하고 시간 소요
2. **뉴스 로딩 대기 시간**: 개인화된 뉴스를 불러오는 과정에서 긴 대기 시간
3. **모바일에서의 뉴스 상세 보기**: 작은 화면에서 가독성과 탐색성 저하

## 해결 방안

### 1. 닐슨 휴리스틱 기반 개선

#### 시스템 상태 가시성
- 모든 로딩 상태에 일관된 스켈레톤 UI 적용
- 작업 완료 시 명확한 성공/실패 피드백 제공 (토스트 메시지)

#### 시스템과 현실 세계의 일치
- '토픽'과 '키워드' 용어를 일관되게 '관심 주제'로 통일
- 전문 용어 대신 일상적인 표현 사용

#### 사용자 제어 및 자유
- 모든 화면에 '이전 단계로' 버튼 추가
- 선택 취소 및 되돌리기 기능 명확하게 표시

#### 일관성 및 표준
- 버튼 스타일과 상호작용 패턴 통일
- 컬러 시스템 일관성 강화

#### 오류 방지
- 중복 키워드 추가 시도 시 사전 경고 메시지 표시
- 입력 필드에 유효성 검사 및 실시간 피드백 추가

#### 기억보다는 인지
- 최근 선택한 키워드 히스토리 표시
- 시각적 단서와 아이콘으로 기능 인지 지원

#### 유연성 및 효율성
- 고급 사용자를 위한 키보드 단축키 추가
- 자주 사용하는 설정을 위한 프리셋 제공

#### 미학적이고 미니멀한 디자인
- 불필요한 애니메이션 효과 제거
- 핵심 콘텐츠에 집중할 수 있는 여백 활용

#### 오류 복구 지원
- 사용자 친화적인 오류 메시지로 개선
- 문제 해결을 위한 구체적인 안내 제공

#### 도움말 및 문서
- 주요 기능에 컨텍스트 툴팁 추가
- 초보자를 위한 온보딩 가이드 구현

### 2. 페르소나 기반 개선

#### 바쁜 직장인 김대리를 위한 개선
1. **빠른 시작 옵션**: 추천 키워드 세트로 빠르게 시작할 수 있는 옵션 제공
2. **모바일 최적화**: 모든 상호작용 요소를 최소 44px 크기로 확대
3. **설정 저장 및 동기화**: 디바이스 간 설정 동기화 및 자동 저장 기능 강화

### 3. 사용자 여정 개선

#### 키워드 설정 단계
- 단계별 가이드와 진행률 표시 추가
- 추천 키워드 세트 제공으로 선택 과정 간소화

#### 뉴스 로딩 대기 시간
- 점진적 로딩 및 스켈레톤 UI 구현
- 백그라운드 데이터 프리페칭으로 대기 시간 단축

#### 모바일 뉴스 상세 보기
- 모바일에 최적화된 리더 모드 제공
- 텍스트 크기 조절 및 다크 모드 지원

## 에러 메시지 / 로그
```
// UX 테스트 결과 (5명의 테스트 사용자)
- 키워드 설정 완료까지 평균 시간: 45초 (목표: 30초 이하)
- 첫 번째 뉴스 확인까지 평균 클릭 수: 6회 (목표: 3회 이하)
- 모바일 사용성 만족도: 3.2/5 (목표: 4/5 이상)
- 작업 성공률: 키워드 설정 85%, 뉴스 필터링 70%, 설정 변경 65%
```

## 관련 커밋 또는 풀 리퀘스트
N/A (현재 분석 단계)

## 재현 단계
1. 신규 사용자로 웹사이트 방문
2. 키워드 설정 페이지에서 키워드 추가 시도
3. 맞춤형 뉴스 받기 버튼 클릭
4. 모바일 기기에서 뉴스 상세 보기 확인

## 예방 / 교훈
1. UX 디자인 초기 단계부터 닐슨의 휴리스틱 평가 적용 필요
2. 다양한 페르소나와 사용 시나리오를 고려한 디자인 검증 중요
3. 모바일 우선(Mobile First) 접근 방식으로 반응형 디자인 구현
4. 사용자 테스트를 통한 지속적인 피드백 수집 및 개선 필요
5. 일관된 디자인 시스템 구축으로 인터페이스 일관성 확보

## 관련 링크
- [닐슨 노먼 그룹 - 10 Usability Heuristics](https://www.nngroup.com/articles/ten-usability-heuristics/)
- [모바일 터치 타겟 크기 가이드라인](https://www.smashingmagazine.com/2012/02/finger-friendly-design-ideal-mobile-touchscreen-target-sizes/)
- [사용자 여정 매핑 가이드](https://www.nngroup.com/articles/journey-mapping-101/)

---

## 메타데이터
- **타임스탬프**: 2025-01-28 16:45:00 KST
- **심각도**: Medium
- **영향 받은 시스템**: NewHeroSection 컴포넌트, 뉴스 카드 애니메이션, 사용자 경험
- **태그**: React 상태관리, 애니메이션 깜빡임, 컴포넌트 리마운트, 타이밍 동기화

## 문제 요약
NewHeroSection에서 뉴스 카드가 채팅 완료 후 나타났다가 사라지는 깜빡임 현상이 발생했습니다. 메신저 화면과 뉴스 카드의 상태 관리가 중복되어 타이밍 충돌이 일어났습니다.

## 근본 원인
1. **상태 관리 중복**: 메인 컴포넌트와 IPhoneInterface 컴포넌트에서 동일한 상태(showMessenger, showCards)를 별도로 관리
2. **컴포넌트 리마운트**: MessengerScreen 컴포넌트의 key 변경으로 인한 강제 리마운트
3. **cleanup effect 문제**: MessengerScreen의 cleanup effect가 unmount 시 초기화 상태를 리셋하여 재마운트 시 깜빡임 발생
4. **타이밍 동기화 실패**: 메인 컴포넌트와 자식 컴포넌트 간의 상태 변경 타이밍이 동기화되지 않음

## 해결 단계
1. **상태 관리 통합**: 메인 컴포넌트에서 모든 상태를 통합 관리하도록 수정
2. **자식 컴포넌트 상태 제거**: IPhoneInterface에서 내부 상태 제거하고 props로 받도록 변경
3. **핸들러 메모이제이션**: useCallback으로 핸들러 함수들을 메모이제이션하여 안정성 확보
4. **cleanup effect 제거**: MessengerScreen에서 불필요한 cleanup effect 제거
5. **타이밍 동기화**: 메인 컴포넌트에서 일관된 타이밍으로 상태 변경 관리

## 오류 메시지 / 로그
```
React key duplication errors with keys like '1' and '7'
News cards briefly appearing then disappearing and reappearing
Flickering after chat completion
```

## 관련 커밋 또는 풀 리퀘스트
- 상태 관리 통합 및 깜빡임 해결
- IPhoneInterface 컴포넌트 props 기반 구조로 변경
- MessengerScreen cleanup effect 제거

## 재현 단계
1. NewHeroSection 컴포넌트 로드
2. 0.8초 후 알림 표시
3. 알림 클릭 후 메신저 화면 표시
4. 채팅 완료 후 뉴스 카드 등장
5. 깜빡임 현상 관찰

## 예방 / 교훈
1. **단일 진실 공급원(Single Source of Truth)**: 상태는 가능한 한 최상위 컴포넌트에서 관리
2. **Props 기반 구조**: 자식 컴포넌트는 가능한 한 props로 상태를 받도록 설계
3. **메모이제이션 활용**: useCallback과 useMemo로 불필요한 리렌더링 방지
4. **cleanup effect 신중 사용**: unmount 시 상태를 리셋하는 cleanup effect는 신중하게 사용
5. **타이밍 동기화**: 여러 컴포넌트 간의 상태 변경은 일관된 타이밍으로 관리

## 관련 링크
- [React 상태 관리 모범 사례](https://react.dev/learn/managing-state)
- [useCallback과 useMemo 최적화](https://react.dev/reference/react/useCallback)
- [컴포넌트 리마운트 방지](https://react.dev/learn/preserving-and-resetting-state)

---

## 메타데이터
- **타임스탬프**: 2025-01-28 15:30:00 KST
- **심각도**: High
- **영향 받은 시스템**: Next.js 개발 서버, 빌드 시스템, 미들웨어
- **태그**: Next.js, 빌드에러, 모듈해결, CSP헤더, 경로별칭

## 문제 요약
JikSend 프로젝트에서 여러 에러가 동시에 발생하여 개발 서버와 빌드 프로세스가 정상적으로 작동하지 않았습니다. 주요 문제는 모듈 경로 해결 실패, CSP 헤더 형식 오류, Next.js 설정 문제 등이었습니다.

## 근본 원인
1. **경로 별칭 설정 불일치**: `tsconfig.json`에서 `@/*`가 `./src/*`로 설정되어 있는데, 실제 프로젝트에서는 `app/`과 `src/` 두 디렉토리를 모두 사용
2. **Next.js 15.3.0 호환성 문제**: `optimizeFonts` 옵션이 더 이상 지원되지 않음
3. **CSP 헤더 형식 오류**: 여러 줄로 나뉜 CSP 헤더 값에 줄바꿈 문자가 포함됨
4. **누락된 UI 컴포넌트**: `use-toast` 훅이 존재하지 않음
5. **CSS 최적화 의존성 문제**: `optimizeCss` 활성화 시 `critters` 패키지 필요

## 해결 단계
1. **경로 별칭 수정**: `tsconfig.json`에서 `@/*`를 `./src/*`에서 `./*`로 변경하여 전체 프로젝트 루트 접근 가능
2. **Next.js 설정 정리**: `next.config.mjs`에서 `optimizeFonts` 제거 및 `optimizeCss` 비활성화
3. **CSP 헤더 수정**: `middleware.ts`에서 멀티라인 CSP 헤더를 단일 라인으로 수정
4. **누락된 훅 생성**: `src/components/ui/use-toast.ts` 파일 생성하여 토스트 알림 기능 구현

## 오류 메시지 / 로그
```
Module not found: Can't resolve '@/app/services/translation/translation.service'
Module not found: Can't resolve '@/src/components/ui/use-toast'
Invalid next.config.mjs options detected: 'optimizeFonts'
Headers.set: "default-src 'self'; ..." is an invalid header value
```

## 관련 커밋 또는 풀 리퀘스트
- 경로 별칭 설정 수정
- Next.js 15.3.0 호환성 업데이트
- CSP 헤더 형식 정규화
- UI 컴포넌트 보완

## 재현 단계
1. 프론트엔드 프로젝트의 전체 구조 파악 요청
2. 주요 설정 파일들(package.json, tsconfig.json, next.config.mjs) 분석
3. 메인 페이지와 레이아웃 컴포넌트 구조 파악
4. 상태 관리, 훅스, API 라우트 등 핵심 기능 분석
5. 모든 정보를 체계적인 JSON 구조로 정리하여 `frontend-structure.json` 파일 생성

## 예방 / 교훈
1. **정기적인 아키텍처 문서화**: 프로젝트 성장에 따라 주기적으로 구조 문서를 업데이트하여 복잡성 관리 필요
2. **컴포넌트 책임 명확화**: 각 컴포넌트의 역할과 데이터 흐름을 명시적으로 문서화하여 유지보수성 향상
3. **타입 시스템 중앙 관리**: TypeScript 타입 정의를 중앙에서 관리하여 일관성 확보
4. **AI 친화적 문서화**: 향후 AI 도구 활용을 고려한 구조화된 문서화 방식 도입
5. **성능 최적화 추적**: 성능 개선 사항을 문서로 기록하여 회귀 방지 및 지속적 개선 가능

## 관련 링크
- [Next.js 15.3.0 Migration Guide](https://nextjs.org/docs/upgrading)
- [Content Security Policy 설정 가이드](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP)
- [TypeScript Path Mapping 문서](https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping) 